#!/usr/bin/env python3
#
# This will accept a prompt and model name as arguments and return the generated text
# Usage: cgpt --prompt "Once upon a time" --model llama3.1. This script is a wrapper 
# around the ollama python package
#
# pip3 install ollama
#
import ollama
import argparse

parser = argparse.ArgumentParser()
parser.add_argument('--prompt', type=str, help='Prompt for the model to generate text')
parser.add_argument('--model', type=str, help='Model to use for generating text', default='llama3.1')
args = parser.parse_args()

prompt = "Your instructions are to only return code as if you were a code generation tool, do not return other words for context or explanation. " + args.prompt
response = ollama.generate(model=args.model, prompt=prompt)
print(response['response'])